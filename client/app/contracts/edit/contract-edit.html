<div class="modal-header">
  <h4 class="modal-title">Update Contract Document</h4>
</div>
<div class="modal-body">
  <form name="ContractForm" class="form-horizontal clearfix">
    <!--{{ContractForm.$error}}-->
    <div class="row">
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Name</label>
        <div class="col-sm-8">
          <input class="form-control"
                 ng-model="contract.name"
                 name="name"
                 ng-required="true">
          <div ng-messages="ContractForm.name.$error" ng-show="ContractForm.name.$touched" role="alert">
            <div ng-message="required">You didn't enter contract name.</div>
          </div>
        </div>
      </div>
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Parent</label>
        <div class="col-sm-8">
          <select name="master"
                  ng-model="contract.master_id"
                  class="form-control"
                  ng-options="contract.id as contract.name for contract in contracts">
            <option value="">None</option>
          </select>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Description</label>
        <div class="col-sm-8">
        <textarea class="form-control"
                  ng-model="contract.description"
                  name="description"
                  ng-required="false"></textarea>
        </div>
      </div>
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Type</label>
        <div class="col-sm-8">
          <select name="type"
                  ng-model="contract.type"
                  class="form-control"
                  ng-required="true">
            <option value="1">MSA</option>
            <option value="2">Svc Schedule</option>
            <option value="3">SS Amendment</option>
            <option value="4">Svc Order</option>
            <option value="5">Quote</option>
            <option value="6">Supporting Doc</option>
            <option value="7">Settlement Agreement</option>
          </select>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Vendor</label>
        <div class="col-sm-8">
          <select name="vendor_id"
                  ng-model="contract.vendor_id"
                  class="form-control"
                  ng-options="vendor.id as vendor.name for vendor in vendors"
                  ng-required="true">

          </select>
          <div ng-messages="ContractForm.vendor_id.$error" ng-show="ContractForm.vendor_id.$touched"
               role="alert">
            <div ng-message="required">You didn't select vendor.</div>
          </div>
        </div>
      </div>
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Vendor Signed</label>
        <div class="col-sm-8">
          <input
            ng-model="contract.vendor_sign_date"
            name="vendor_sign_date"
            ng-required="true"
            uib-datepicker-popup
            placeholder="Select date"
            class="form-control input-sm"
            is-open="vendor_sign_date_ui.opened"
            ng-click="vendor_sign_date_ui.opened=true">
          <div ng-messages="ContractForm.vendor_sign_date.$error" ng-show="ContractForm.vendor_sign_date.$touched"
               role="alert">
            <div ng-message="required">You didn't enter vendor sign date.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Company</label>
        <div class="col-sm-8">
          <input class="form-control"
                 ng-model="contract.company_name"
                 name="company_name"
                 ng-required="true">
          <div ng-messages="ContractForm.company_name.$error" ng-show="ContractForm.company_name.$touched" role="alert">
            <div ng-message="required">You didn't enter company name.</div>
          </div>
        </div>
      </div>
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Company Signed</label>
        <div class="col-sm-8">
          <input
            ng-required="true"
            ng-model="contract.company_sign_date"
            name="company_sign_date"
            uib-datepicker-popup
            placeholder="Select date"
            class="form-control input-sm"
            is-open="company_sign_date_ui.opened"
            ng-click="company_sign_date_ui.opened=true">
          <div ng-messages="ContractForm.company_sign_date.$error" ng-show="ContractForm.company_sign_date.$touched"
               role="alert">
            <div ng-message="required">You didn't enter company sign date.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Effective Date</label>
        <div class="col-sm-8">
          <input
            ng-required="true"
            ng-model="contract.effective_date"
            name="effective_date"
            uib-datepicker-popup
            placeholder="Select date"
            class="form-control input-sm"
            is-open="effective_date_ui.opened"
            ng-click="effective_date_ui.opened=true">
          <div ng-messages="ContractForm.effective_date.$error" ng-show="ContractForm.effective_date.$touched"
               role="alert">
            <div ng-message="required">You didn't enter effective date.</div>
          </div>
        </div>
      </div>
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Termination Date</label>
        <div class="col-sm-8">
          <input
            ng-required="true"
            ng-model="contract.termination_date"
            name="termination_date"
            uib-datepicker-popup
            placeholder="Select date"
            class="form-control input-sm"
            is-open="termination_date_ui.opened"
            ng-click="termination_date_ui.opened=true">
          <div ng-messages="ContractForm.termination_date.$error" ng-show="ContractForm.termination_date.$touched"
               role="alert">
            <div ng-message="required">You didn't enter termination date.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Term</label>
        <div class="col-sm-8">
          <input type="number"
                 min="1"
                 max="150"
                 class="form-control"
                 ng-model="contract.term_months"
                 name="term_months"
                 ng-required="true">
          <div ng-messages="ContractForm.term_months.$error" ng-show="ContractForm.term_months.$touched" role="alert">
            <div ng-message="required">You didn't enter contract name.</div>
            <div ng-message="number">Enter valid number of months.</div>
            <div ng-message="min">Enter valid number of months.</div>
          </div>
        </div>
      </div>
      <div class="form-group col-sm-6">
        <label class="col-sm-4 control-label">Committed Value</label>
        <div class="col-sm-8">
          <input type="number"
                 min="0"
                 class="form-control"
                 ng-model="contract.committed_value"
                 name="committed_value"
                 ng-required="true">
          <div ng-messages="ContractForm.committed_value.$error" ng-show="ContractForm.committed_value.$touched"
               role="alert">
            <div ng-message="required">You didn't enter committed value</div>
            <div ng-message="number">Enter valid committed value.</div>
            <div ng-message="min">Enter valid committed value.</div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" type="button" ng-disabled="!ContractForm.$valid" ng-click="update(ContractForm)">
    Update
  </button>
  <button class="btn btn-link" type="button" ng-click="cancel()">Cancel</button>
</div>
