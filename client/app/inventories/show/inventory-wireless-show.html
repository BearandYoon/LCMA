<form name="InventoryForm" class="form-horizontal">
  <div class="app-body-content  app-body-with-toolbar">
    <div class="app-toolbar">
      <div class="btn-group">
        <h4>{{$lcmaPage.getTitle()}}</h4>
      </div>
    </div>

    <div class="app-data app-data-space inventory-facepage">

      <div class="panel panel-default">
        <div class="panel-heading clearfix">
          <h2>
            Wireline Voice Service Inventory &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vendor: <span>{{ctx.inventory.vendor.name}}</span>,
          </h2>
        </div>
        <div class="panel-body">
          <div class="row mar-b">
            <div class="col-sm-12 text-center">
              <div class="btn-group panel-ctrls">
                <button ng-click="ctx.editInventory()"
                        class="btn btn-default" ng-class="{'active': ctx.editing}">
                  Edit
                </button>
                <button ng-click="ctx.saveInventory(InventoryForm)"
                        class="btn btn-default">
                  Save
                </button>
              </div>

              <div class="btn-group panel-ctrls">
                <button class="btn btn-default">
                  Change
                </button>
                <button class="btn btn-default">
                  Disconnect
                </button>
              </div>

              <div class="btn-group panel-ctrls">
                <button ng-click="ctx.editContract()"
                        class="btn btn-primary">
                   Add Note
                </button>
                <button ng-click="ctx.editContract()"
                        class="btn btn-primary">
                  < Add Alias
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h2>Voice Service Info</h2>
          </div>
          <div class="panel-body">
            <div class="row mar-b">
              <div class="col-sm-1">
                Int Svc ID
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="int_svc_id" ng-model="ctx.inventory.int_svc_id" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
              <div class="col-sm-1">
                SP Svc ID
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="sp_svc_id" ng-model="ctx.inventory.sp_svc_id" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
              <div class="col-sm-1">
                2nd SP ID
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="second_sp_id" ng-model="ctx.inventory.second_sp_id" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
              <div class="col-sm-1">
                Vendor
              </div>
              <div class="col-sm-2">
                <lcma-vendor-picker ng-model="ctx.inventory.vendor_id" ng-disabled="!ctx.editing"></lcma-vendor-picker>
              </div>

            </div>
            <div class="row mar-t">
              <div class="col-sm-1">
                Status
              </div>
              <div class="col-sm-2">
                <lcma-dictionary-picker type-key='inventory-status' name="status" ng-model="ctx.inventory.status_id" ng-disabled="!ctx.editing"></lcma-dictionary-picker>
              </div>
              <div class="col-sm-1">
                BAN
              </div>
              <div class="col-sm-2">
                <input name="ban" ng-model="ctx.inventory.ban" type="text"
                       class="form-control text-right" readonly>
              </div>
              <div class="col-sm-1">
                SP BTN
              </div>
              <div class="col-sm-2">
                <input name="sp_btn" ng-model="ctx.inventory.sp_btn" type="text"
                       class="form-control text-right" readonly>
              </div>
              <div class="col-sm-1">
                Svc Type
              </div>
              <div class="col-sm-2">
                <lcma-dictionary-picker type-key='inventory-svc-type' name="svc_type" ng-model="ctx.inventory.svc_type_id" ng-disabled="!ctx.editing"></lcma-dictionary-picker>
              </div>
            </div>

            <div class="row mar-t">
              <div class="col-sm-1">
                Technology
              </div>
              <div class="col-sm-2">
                <lcma-dictionary-picker type-key='inventory-technology' name="technology" ng-model="ctx.inventory.technology_id" ng-disabled="!ctx.editing"></lcma-dictionary-picker>
              </div>
              <div class="col-sm-1">
                Fac BW
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="fac_bw" ng-model="ctx.inventory.fac_bw" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
              <div class="col-sm-1">
                IP Shared Trk
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="ip_shared_trk" ng-model="ctx.inventory.ip_shared_trk" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing"/>
              </div>
              <div class="col-sm-1">
                Conc Calls
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="conc_calls" ng-model="ctx.inventory.conc_calls" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing"/>
              </div>
            </div>

            <div class="row mar-t">
              <div class="col-sm-1">
                Site
              </div>
              <div class="col-sm-2">
                TDM
              </div>
              <div class="col-sm-1">
                Contract ID
              </div>
              <div class="col-sm-2">
                <select class="form-control" ng-options="contract.id as contract.name for contract in ctx.contracts"
                        ng-model="ctx.inventory.contract_id" ng-disabled="!ctx.editing"></select>
              </div>
              <div class="col-sm-1">
                Est. MRC
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="est_mrc" ng-model="ctx.inventory.est_mrc" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
              <div class="col-sm-1">
                Est. NRC
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="est_nrc" ng-model="ctx.inventory.est_nrc" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
            </div>
            <div class="row mar-t">
              <div class="col-sm-1">
                Term
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="term" ng-model="ctx.inventory.term" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing">
              </div>
              <div class="col-sm-1">
                Exp Date
              </div>
              <div class="col-sm-2">
                <input
                  uib-datepicker-popup="MM/dd/yyyy"
                  ng-model="ctx.inventory.exp_date"
                  name="exp_date"
                  placeholder="Exp Date"
                  init-date="{{ctx.inventory.exp_date}}"
                  class="form-control input-sm text-right"
                  is-open="ctx.exp_date_ui.opened"
                  ng-click="ctx.exp_date_ui.opened=true"
                  ng-disabled="!ctx.editing"
                />
              </div>
              <div class="col-sm-1">
                Install Date
              </div>
              <div class="col-sm-2">
                <input
                  uib-datepicker-popup="MM/dd/yyyy"
                  ng-model="ctx.inventory.install_date"
                  name="install_date"
                  placeholder="Install Date"
                  init-date="{{ctx.inventory.install_date}}"
                  class="form-control input-sm text-right"
                  is-open="ctx.install_date_ui.opened"
                  ng-click="ctx.install_date_ui.opened=true"
                  ng-disabled="!ctx.editing"
                  >
              </div>
              <div class="col-sm-1">
                Disc Date
              </div>
              <div class="col-sm-2">
                <input
                  uib-datepicker-popup="MM/dd/yyyy"
                  ng-model="ctx.inventory.disc_date"
                  name="disc_date"
                  placeholder="Disc Date"
                  init-date="{{ctx.inventory.disc_date}}"
                  class="form-control input-sm text-right"
                  is-open="ctx.disc_date_ui.opened"
                  ng-click="ctx.disc_date_ui.opened=true"
                  ng-disabled="!ctx.editing"
                  />
              </div>
            </div>
            <div class="row mar-t">
              <div class="col-sm-1">
                Prim/Failover
              </div>
              <div class="col-sm-2">
                <lcma-dictionary-picker type-key='inventory-prim-failover' name="prim_failover" ng-model="ctx.inventory.prim_failover_id" ng-disabled="!ctx.editing"></lcma-dictionary-picker>
              </div>
              <div class="col-sm-1">
                Fail Rel Svc
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="fail_rel_svc" ng-model="ctx.inventory.fail_rel_svc" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing"/>
              </div>
              <div class="col-sm-1">
                Rel Svc
              </div>
              <div class="col-sm-2">
                <input ng-required="true" name="rel_svc" ng-model="ctx.inventory.rel_svc" type="text"
                       class="form-control text-right" ng-readonly="!ctx.editing"/>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading clearfix">
          <h2>Features Info</h2>
        </div>
        <div class="panel-body">
          <div class="row mar-b">
            <div class="col-sm-6">
              <div lcma-site-detail site-id="ctx.inventory.site_a_id" class="site-detail" editing="ctx.editing"/>
            </div>
            <div class="col-sm-6">
              <div lcma-site-detail site-id="ctx.inventory.site_z_id" class="site-detail" editing="ctx.editing"/>
            </div>
          </div>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading clearfix">
          <h2>Related Info</h2>
        </div>
        <div class="panel-body">

          <uib-tabset>
            <uib-tab heading="Orders"
                     active="ctx.relatedTabs.active === 'orders'"
                     ng-click="ctx.activateRelatedTab('orders')">

              <div class=" clearfix">
                <button class="btn btn-default pull-right" ng-click="ctx.addDocument()">
                  <i class="fa fa-plus"></i>
                  Add
                </button>
              </div>

              <div ng-if="!ctx.documents.length" class="empty-data">
                No documents added for this contract.
              </div>
              <div ng-if="ctx.documents.length" class="grid" ui-grid="ctx.documentsGrid"></div>
            </uib-tab>
            <uib-tab heading="Tickets"
                     active="ctx.relatedTabs.active === 'tickets' "
                     ng-click="ctx.activateRelatedTab('tickets')">
            </uib-tab>

            <uib-tab heading="Building"
                     active="ctx.relatedTabs.active === 'building'"
                     ng-click="ctx.activateRelatedTab('building')">
            </uib-tab>

            <uib-tab heading="Aliases"
                     active="ctx.relatedTabs.active === 'aliases'"
                     ng-click="ctx.activateRelatedTab('aliases')">
            </uib-tab>

            <uib-tab heading="Channels"
                     active="ctx.relatedTabs.active === 'channels'"
                     ng-click="ctx.activateRelatedTab('channels')">
            </uib-tab>

            <uib-tab heading="GL Codes"
                     active="ctx.relatedTabs.active === 'gl_codes'"
                     ng-click="ctx.activateRelatedTab('gl_codes')">

              <lcma-contract-history ng-model="ctx.history"></lcma-contract-history>
              <div class="text-center mar-all" ng-if="!ctx.history.length">No history logged for this contract.</div>
            </uib-tab>
            <uib-tab heading="Notes"
                     active="ctx.relatedTabs.active === 'notes'"
                     ng-click="ctx.activateRelatedTab('notes')">

              <div class=" clearfix">
                <button type="button"
                        class="btn btn-default pull-right"
                        ng-click="ctx.addNote()" ng-disabled="!ctx.inventory.id">Add Note
                </button>
              </div>
              <div ng-repeat="note in ctx.notes"
                   class="mar-t"
                   id="note_{{note.id}}"
                   lcma-focus-on="note_{{note.id}}">

                <lcma-note-list ng-model="note" on-reply="ctx.onNoteReply(note)">

                </lcma-note-list>

              </div>

              <div class="text-center mar-all" ng-if="!ctx.notes.length">No notes added for this invoice.</div>

            </uib-tab>
            <uib-tab heading="History"
                     active="ctx.relatedTabs.active === 'history'"
                     ng-click="ctx.activateRelatedTab('history')">

              <lcma-contract-history ng-model="ctx.history"></lcma-contract-history>
              <div class="text-center mar-all" ng-if="!ctx.history.length">No history logged for this contract.</div>
            </uib-tab>
          </uib-tabset>
        </div>
      </div>

      <br>
      <br>
      <br>
      <br>
      <br>

    </div>
  </div>
</form>
